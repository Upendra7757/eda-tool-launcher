<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ presentation.title }}</title>

  <style>
    /* ================= PAGE ================= */
    @page {
      size: A4 landscape;
      margin: 20mm;
    }

    body {
      font-family: Arial, sans-serif;
      font-size: 12px;
      color: #111;
    }

    /* ================= HEADERS ================= */
    h1 {
      font-size: 20px;
      margin-bottom: 6px;
    }

    h2 {
      font-size: 14px;
      margin-top: 18px;
      border-bottom: 1px solid #ccc;
      padding-bottom: 4px;
    }

    .meta {
      font-size: 11px;
      color: #555;
      margin-bottom: 16px;
    }

    /* ================= SLIDES ================= */
    .slide {
      page-break-after: always;
    }

    /* ================= IMAGES ================= */
    .image {
      margin: 12px 0;
      text-align: center;
    }

    .image img {
      max-width: 100%;
      max-height: 520px;
      border: 1px solid #ccc;
    }

    /* ================= DATA ================= */
    pre {
      background: #f6f6f6;
      padding: 10px;
      font-size: 10px;
      line-height: 1.4;
      overflow-wrap: break-word;
      white-space: pre-wrap;
      border-left: 3px solid #888;
      margin-top: 10px;
    }

    /* ================= FOOTER ================= */
    .footer {
      position: fixed;
      bottom: 8px;
      right: 20px;
      font-size: 10px;
      color: #888;
    }
  </style>
</head>

<body>

<h1>{{ presentation.title }}</h1>

<div class="meta">
  Run ID: {{ presentation.run.id }} |
  Tool: {{ presentation.run.tool.name }} |
  Status: {{ presentation.run.status|upper }}
</div>

{% for slide in slides %}
<div class="slide">

  <h2>{{ slide.title }}</h2>

  {% for item in slide.items.all %}

    {% if item.item_type == "image" and item.artifact %}
      <div class="image">
        <img
          src="{{ item.artifact.url_path }}" alt="Layout Image">
          alt="Layout Image">
      </div>
    {% endif %}

    {% if item.item_type == "attachment" and item.inline_content %}
      <pre>{{ item.inline_content }}</pre>
    {% endif %}

    {% if item.item_type == "log_snippet" and item.inline_content %}
      <pre>{{ item.inline_content }}</pre>
    {% endif %}

  {% endfor %}

</div>
{% endfor %}

<div class="footer">
  Generated on {{ now }}
</div>

</body>
</html>
